<!-- <mvc:View controllerName="manageproducts1.controller.main"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns="sap.m">
    <Page id="page" title="{i18n>title}">
        <content />
    </Page>
</mvc:View> -->

<mvc:View
    xmlns:form="sap.ui.layout.form"
    controllerName="manageproducts1.controller.main"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
>
    <Page
        id="page"
        title="{i18n>title}"
        class="sapUiNoContentPadding"
    >
        <content>
            <!-- <Text text="{/Products(0)/Supplier/Name}" /> -->
            <!-- <Table id="products" items="{path: '/Products',
                                        parameters: {
                                            'expand': 'Supplier, Category',
                                            'select': '*,Supplier/Name, Category/Name'
                                        },
                                        sorter: {
                                            path: 'Category/Name',
                                            descending: true,
                                            group: '.getGrouping'
                                        },
                                        groupHeaderFactory: '.getGroupHeader'
                                    }"  -->
            <Table
                id="products"
                items="{path: '/Products',
                                        parameters: {
                                            'expand': 'Supplier, Category',
                                            'select': '*,Supplier/Name, Category/Name'
                                        },
                                        filters:[{path: 'Category/Name', operator: 'Contains', value1: 'Food'}]
                                    }"
                growing="true"
                growingThreshold="10"
                growingScrollToLoad="true"
                alternateRowColors="{myClientModel>/alternateRowColors}"
                mode="SingleSelectLeft"
                selectionChange="onTableItemSelect"
                class="sapUiSmallMargin"
                width="auto"
            >
                <headerToolbar>
                    <OverflowToolbar>
                        <ToolbarSpacer />
                        <!-- <Button id="editBtn" text="Edit" press="onEditPress" enabled="false"/> -->
                        <Button
                            id="CreateBtn"
                            text="Create"
                            press="onCreatePress"
                            enabled="true"
                        />
                    </OverflowToolbar>
                </headerToolbar>
                <columns>
                    <Column>
                        <Text text="Product ID" />
                    </Column>
                    <Column>
                        <Text text="Product Name" />
                    </Column>
                    <Column>
                        <Text text="Product Description" />
                    </Column>
                    <Column>
                        <Text text="Supplier Name" />
                    </Column>
                    <Column>
                        <Text text="Category Name" />
                    </Column>
                </columns>
                <items>
                    <ColumnListItem
                        type="Navigation"
                        press="onProductEdit"
                    >
                        <!-- <ObjectNumber number="{ID}"></ObjectNumber> -->
                        <Text text="{ID}" />
                        <Text
                            text="{Name}"
                            class="productName"
                        />
                        <Text text="{Description}" />
                        <Text text="{Supplier/Name}" />
                        <Text text="{Category/Name}" />
                    </ColumnListItem>
                </items>
            </Table>
        </content>
        <dependents>
            <core:Fragment
                fragmentName="manageproducts.fragment.CreateOrUpdateProduct"
                type="XML"
            />
        </dependents>
    </Page>
</mvc:View>
